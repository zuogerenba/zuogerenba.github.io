<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、HTTP/0.9 | 邱模建的博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/avatar.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.101e93c3.css" as="style"><link rel="preload" href="/assets/js/app.ab08ac82.js" as="script"><link rel="preload" href="/assets/js/2.fe6dca74.js" as="script"><link rel="preload" href="/assets/js/20.c1d3e8bd.js" as="script"><link rel="prefetch" href="/assets/js/10.44ca1bce.js"><link rel="prefetch" href="/assets/js/100.ff4a7272.js"><link rel="prefetch" href="/assets/js/101.4f5b1dfc.js"><link rel="prefetch" href="/assets/js/102.4b0b16e2.js"><link rel="prefetch" href="/assets/js/103.cb5f3e5c.js"><link rel="prefetch" href="/assets/js/104.b1811512.js"><link rel="prefetch" href="/assets/js/105.aa082472.js"><link rel="prefetch" href="/assets/js/106.91d2c8b0.js"><link rel="prefetch" href="/assets/js/107.3dea83b1.js"><link rel="prefetch" href="/assets/js/108.236a9cb3.js"><link rel="prefetch" href="/assets/js/109.8deba790.js"><link rel="prefetch" href="/assets/js/11.0dcd522a.js"><link rel="prefetch" href="/assets/js/110.0e0d34b4.js"><link rel="prefetch" href="/assets/js/111.0b565b05.js"><link rel="prefetch" href="/assets/js/112.cbd56ebc.js"><link rel="prefetch" href="/assets/js/113.6b220f73.js"><link rel="prefetch" href="/assets/js/114.84e8b596.js"><link rel="prefetch" href="/assets/js/115.9fc640b7.js"><link rel="prefetch" href="/assets/js/116.9a86f717.js"><link rel="prefetch" href="/assets/js/12.3ecee4d7.js"><link rel="prefetch" href="/assets/js/13.dc43ca20.js"><link rel="prefetch" href="/assets/js/14.2a807370.js"><link rel="prefetch" href="/assets/js/15.f2ae64fb.js"><link rel="prefetch" href="/assets/js/16.6cefb4c6.js"><link rel="prefetch" href="/assets/js/17.fba8bb8c.js"><link rel="prefetch" href="/assets/js/18.4d5bfc74.js"><link rel="prefetch" href="/assets/js/19.71623cf1.js"><link rel="prefetch" href="/assets/js/21.89055cf4.js"><link rel="prefetch" href="/assets/js/22.4954c039.js"><link rel="prefetch" href="/assets/js/23.7c6f9745.js"><link rel="prefetch" href="/assets/js/24.4a9c9785.js"><link rel="prefetch" href="/assets/js/25.01027ef7.js"><link rel="prefetch" href="/assets/js/26.fb9ca95d.js"><link rel="prefetch" href="/assets/js/27.c0398869.js"><link rel="prefetch" href="/assets/js/28.d1b45b70.js"><link rel="prefetch" href="/assets/js/29.b42a2154.js"><link rel="prefetch" href="/assets/js/3.872ae142.js"><link rel="prefetch" href="/assets/js/30.fba61f27.js"><link rel="prefetch" href="/assets/js/31.4c8105b8.js"><link rel="prefetch" href="/assets/js/32.4390fdb1.js"><link rel="prefetch" href="/assets/js/33.fb22efe6.js"><link rel="prefetch" href="/assets/js/34.c790ec04.js"><link rel="prefetch" href="/assets/js/35.9559fbf9.js"><link rel="prefetch" href="/assets/js/36.bf93938b.js"><link rel="prefetch" href="/assets/js/37.49295366.js"><link rel="prefetch" href="/assets/js/38.90fc60b9.js"><link rel="prefetch" href="/assets/js/39.a18d83e7.js"><link rel="prefetch" href="/assets/js/4.08c03269.js"><link rel="prefetch" href="/assets/js/40.08bcd26b.js"><link rel="prefetch" href="/assets/js/41.9f70e821.js"><link rel="prefetch" href="/assets/js/42.b6f1d960.js"><link rel="prefetch" href="/assets/js/43.1bc00c36.js"><link rel="prefetch" href="/assets/js/44.89fd78b3.js"><link rel="prefetch" href="/assets/js/45.66558dce.js"><link rel="prefetch" href="/assets/js/46.6fb2cd24.js"><link rel="prefetch" href="/assets/js/47.d56d286f.js"><link rel="prefetch" href="/assets/js/48.35519a50.js"><link rel="prefetch" href="/assets/js/49.361857da.js"><link rel="prefetch" href="/assets/js/5.581fb300.js"><link rel="prefetch" href="/assets/js/50.d8fd2f28.js"><link rel="prefetch" href="/assets/js/51.92e3216f.js"><link rel="prefetch" href="/assets/js/52.fbc53d2a.js"><link rel="prefetch" href="/assets/js/53.eff022d3.js"><link rel="prefetch" href="/assets/js/54.634800e1.js"><link rel="prefetch" href="/assets/js/55.4c05b71c.js"><link rel="prefetch" href="/assets/js/56.4ab46734.js"><link rel="prefetch" href="/assets/js/57.ca27214f.js"><link rel="prefetch" href="/assets/js/58.d5242a99.js"><link rel="prefetch" href="/assets/js/59.0195abe1.js"><link rel="prefetch" href="/assets/js/6.f3fdc29d.js"><link rel="prefetch" href="/assets/js/60.f4553c6f.js"><link rel="prefetch" href="/assets/js/61.910c747c.js"><link rel="prefetch" href="/assets/js/62.11338b10.js"><link rel="prefetch" href="/assets/js/63.4db680cc.js"><link rel="prefetch" href="/assets/js/64.03470149.js"><link rel="prefetch" href="/assets/js/65.226aac33.js"><link rel="prefetch" href="/assets/js/66.ff242f26.js"><link rel="prefetch" href="/assets/js/67.4fa75535.js"><link rel="prefetch" href="/assets/js/68.8e397504.js"><link rel="prefetch" href="/assets/js/69.4e44158e.js"><link rel="prefetch" href="/assets/js/7.23c3e498.js"><link rel="prefetch" href="/assets/js/70.3c03822d.js"><link rel="prefetch" href="/assets/js/71.32e2c279.js"><link rel="prefetch" href="/assets/js/72.f5ac84af.js"><link rel="prefetch" href="/assets/js/73.64adb473.js"><link rel="prefetch" href="/assets/js/74.d7b550fe.js"><link rel="prefetch" href="/assets/js/75.be770e67.js"><link rel="prefetch" href="/assets/js/76.a7692266.js"><link rel="prefetch" href="/assets/js/77.fcafefb3.js"><link rel="prefetch" href="/assets/js/78.d1de0597.js"><link rel="prefetch" href="/assets/js/79.c4cbe623.js"><link rel="prefetch" href="/assets/js/8.561638da.js"><link rel="prefetch" href="/assets/js/80.45ff8ec4.js"><link rel="prefetch" href="/assets/js/81.a7006a2e.js"><link rel="prefetch" href="/assets/js/82.16b4b62c.js"><link rel="prefetch" href="/assets/js/83.bde15b26.js"><link rel="prefetch" href="/assets/js/84.9555f7e8.js"><link rel="prefetch" href="/assets/js/85.342c98a2.js"><link rel="prefetch" href="/assets/js/86.3dc6bedd.js"><link rel="prefetch" href="/assets/js/87.1ed60d78.js"><link rel="prefetch" href="/assets/js/88.a97aa37d.js"><link rel="prefetch" href="/assets/js/89.40d81536.js"><link rel="prefetch" href="/assets/js/9.4a2b0589.js"><link rel="prefetch" href="/assets/js/90.b0be239c.js"><link rel="prefetch" href="/assets/js/91.d1b597cd.js"><link rel="prefetch" href="/assets/js/92.0c0131a5.js"><link rel="prefetch" href="/assets/js/93.6a045b51.js"><link rel="prefetch" href="/assets/js/94.b9a23713.js"><link rel="prefetch" href="/assets/js/95.581789a6.js"><link rel="prefetch" href="/assets/js/96.cef1bc26.js"><link rel="prefetch" href="/assets/js/97.82bec4e2.js"><link rel="prefetch" href="/assets/js/98.e88e6b38.js"><link rel="prefetch" href="/assets/js/99.1c62b889.js">
    <link rel="stylesheet" href="/assets/css/0.styles.101e93c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="邱模建的博客" class="logo"> <span class="site-name can-hide">邱模建的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="https://leetcode-cn.com/u/2vgrNDufDX/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zuogerenba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="https://leetcode-cn.com/u/2vgrNDufDX/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zuogerenba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ComputerNet/HTTP.html" class="sidebar-link">1.HTTP相关</a></li><li><a href="/pages/ComputerNet/七层模型.html" class="sidebar-link">2.七/四/五层模型</a></li><li><a href="/pages/ComputerNet/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/pages/ComputerNet/HTTPS.html" class="sidebar-link">HTTPS</a></li><li><a href="/pages/ComputerNet/浏览器安全.html" class="sidebar-link">浏览器安全</a></li><li><a href="/pages/ComputerNet/浏览器性能优化.html" class="sidebar-link">浏览器性能优化</a></li><li><a href="/pages/ComputerNet/HTTP历史.html" class="active sidebar-link">HTTP历史</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#一、http-0-9" class="sidebar-link">一、HTTP/0.9</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#二、浏览器推动的http-1-0" class="sidebar-link">二、浏览器推动的HTTP/1.0</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#三、http-1-1" class="sidebar-link">三、HTTP/1.1</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#_1-改进持久连接" class="sidebar-link">1.改进持久连接</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#_2-不成熟的-http-管线化" class="sidebar-link">2.不成熟的 HTTP 管线化</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#_3-提供虚拟主机的支持" class="sidebar-link">3.提供虚拟主机的支持</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#总结" class="sidebar-link">总结</a></li></ul></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#四、http-2-0" class="sidebar-link">四、HTTP/2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#http-1-1的问题" class="sidebar-link">HTTP/1.1的问题</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#http-2-0多路复用-最核心" class="sidebar-link">HTTP/2.0多路复用——最核心</a></li><li class="sidebar-sub-header"><a href="/pages/ComputerNet/HTTP历史.html#http-2其他特性" class="sidebar-link">HTTP/2其他特性</a></li></ul></li></ul></li><li><a href="/pages/ComputerNet/HTTP请求流程.html" class="sidebar-link">HTTP请求流程</a></li><li><a href="/pages/ComputerNet/JavaScript如何影响DOM树构建.html" class="sidebar-link">JavaScript如何影响DOM树构建</a></li><li><a href="/pages/ComputerNet/CSS如何影响首次白屏.html" class="sidebar-link">CSS如何影响首次白屏</a></li><li><a href="/pages/ComputerNet/分层合成：为什么CSS比JS高效.html" class="sidebar-link">分层合成：为什么CSS比JS高效</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VUE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NODE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GIT教程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实习遇到的问题及成长</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>腾讯工作的思考与总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>琐碎</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="一、http-0-9"><a href="#一、http-0-9" class="header-anchor">#</a> 一、HTTP/0.9</h2> <p>在网络之间传输HTML文本，所以叫<strong>超文本传输协议</strong>，HTTP都是基于TCP协议的。</p> <p>流程：</p> <ul><li>请求</li> <li>DNS查询IP地址</li> <li>三次握手建立连接</li> <li>客户端发起请求</li> <li>服务器响应</li> <li>断开连接</li></ul> <h2 id="二、浏览器推动的http-1-0"><a href="#二、浏览器推动的http-1-0" class="header-anchor">#</a> 二、浏览器推动的HTTP/1.0</h2> <blockquote><p>之后在浏览器上不仅仅是HTML文件，有CSS，JS，图片，音频，视频等不同类型的文件。因此需要一个支持多类型的协议，HTTP1.0出来了。</p></blockquote> <p>以前在0.9时代浏览器只会发简单的请求，不能告诉服务器更多的信息，服务器也是一样，直接返回数据，没有更多的信息告诉浏览器。</p> <p>所以，要想支持多类型，HTTP/1.0引入了响应请求头。都是以KEY-VALUE存在的。</p> <h2 id="三、http-1-1"><a href="#三、http-1-1" class="header-anchor">#</a> 三、HTTP/1.1</h2> <blockquote><p>网络已经发展到HTTP1.0页不能满足需求了，所以又在HTTP1.0做了大量改进。</p></blockquote> <h3 id="_1-改进持久连接"><a href="#_1-改进持久连接" class="header-anchor">#</a> 1.改进持久连接</h3> <p><strong>HTTP1.0短连接</strong>：HTTP1.0每进行一次通信，都需要 <strong>建立TCP连接，传输HTTP数据，断开TCP连接</strong>。每请求一次就要断开连接一次。效率很低。</p> <ul><li>对于当时的环境，文件小，请求数量也少，所以这么做没什么问题。</li> <li>但是现在，网页很丰富，请求资源涉及很多，再这样的话，是不行的。</li></ul> <p><img src="/assets/img/HTTPshort_connect.259dd302.png" alt="短连接"></p> <p><strong>HTTP1.1长连接</strong></p> <p>HTTP1.1中长连接是默认开启的，所以无需做任何操作，想要关闭的话就用， Connection: close ；</p> <p>目前浏览器对于同一域名，默认允许同时建立6个TCP持久连接。</p> <h3 id="_2-不成熟的-http-管线化"><a href="#_2-不成熟的-http-管线化" class="header-anchor">#</a> 2.不成熟的 HTTP 管线化</h3> <p>持久连接虽然可以减少TCP的建立断开次数，但是他需要等待前面的请求返回之后，才能进行下一次请求。如果TCP通道中的某个请求因为某些原因没有及时返回，那么就会阻塞后面的所有请求，这就是<strong>队头阻塞</strong>。</p> <h3 id="_3-提供虚拟主机的支持"><a href="#_3-提供虚拟主机的支持" class="header-anchor">#</a> 3.提供虚拟主机的支持</h3> <p>在HTTP1.0中，每个域名绑定唯一IP地址，因此一个服务器只支持一个域名。有了虚拟主机，单独的域名可以共用同一个IP地址。</p> <p>一次，HTTP1.1的请求头添加了 <strong>Host</strong>字段，表示当前域名地址，这样服务器可以根据不同服务器做出不同的处理。</p> <h3 id="总结"><a href="#总结" class="header-anchor">#</a> <strong>总结</strong></h3> <div class="language- extra-class"><pre class="language-text"><code>HTTP1.1为网络效率做了很大的优化，最核心的是三个：
	1.持久化连接。
	2.浏览器为每个域名最多同时维护6个TCP连接。
	3.使用CDN的实现域名分片机制。
</code></pre></div><h2 id="四、http-2-0"><a href="#四、http-2-0" class="header-anchor">#</a> 四、HTTP/2.0</h2> <h3 id="http-1-1的问题"><a href="#http-1-1的问题" class="header-anchor">#</a> HTTP/1.1的问题</h3> <p>虽然1.1进行很多有化，也有不错的效果，但是 <strong>HTTP1.1对带宽的利用率不理想</strong>。</p> <p>比如：100M的宽带他的最大速度为12.5M/s,但实际上可能只有2.5M/s。</p> <p>主要原因有三：</p> <p><strong>原因——TCP慢启动</strong></p> <p>TCP协议传输数据时，用缓慢的速度去发送数据，然后再加快数据的传输，类似于汽车启动。</p> <p>慢启动是巍峨减少网络拥堵的一种策略，没法改变它。</p> <p>慢启动带来的性能问题：</p> <ul><li>TCP建立好连接，马上就要发起资源请求的。</li> <li>但是由于慢启动，耗费的事件就变长，造成了首次渲染页面的事件变长。</li></ul> <p><strong>原因二——多TCP连接，竞争带宽</strong></p> <p>当文件较多时，多个TCP一起使用，下载关键资源，下载音频，视频等，TCP又无法识别资源的优先级，造成关键资源的下载慢。</p> <p><strong>原因三——HTTP1.1队头阻塞</strong></p> <p>虽然1.1持久连接，但是一个管道同一时刻只能处理一个请求，该请求没有结束前，其他请求只能处于阻塞状态。这意味我们不能随意在一个管道中请求和接收内容。</p> <h3 id="http-2-0多路复用-最核心"><a href="#http-2-0多路复用-最核心" class="header-anchor">#</a> HTTP/2.0多路复用——最核心</h3> <p>TCP有问题，但是不能换掉TCP，所以，2.0的思路就是一个域名只是用一个TCP长连接来传输数据，这样整个页面的下载过程只需要一次慢启动，同时也避免了多个TCP连接竞争带宽所带来的的问题。</p> <p>另外，就是队头阻塞的问题，等待请求完成后才能去请求下一个资源，这种方式无疑是最慢 的，所以 HTTP/2 需要实现资源的并行请求，也就是任何时候都可以将请求发送给服务器，而并不需要等待其他请求的完成，然后服务器也可以随时返回处理好的请求资源给浏览 器。</p> <p>所以，HTTP/2 的解决方案可以总结为:<strong>一个域名只使用一个 TCP 长连接和消除队头阻塞问题</strong>。可以参考下图:</p> <ul><li>每个请求都有自己对应的ID，作用是不按照顺序返回，最终也能拼接成完整的HTTP响应数据</li> <li>可以根据自己的想法优先返回哪些内容，比如关键资源的请求肯定是优先的。</li></ul> <p><img src="/assets/img/HTTP2_many.049d286f.png" alt="多路复用"></p> <h3 id="http-2其他特性"><a href="#http-2其他特性" class="header-anchor">#</a> HTTP/2其他特性</h3> <h4 id="_1-设置请求优先级"><a href="#_1-设置请求优先级" class="header-anchor">#</a> 1.设置请求优先级</h4> <ul><li>有些资源在浏览器里面是非常重要的，如关键资源（HTML，JS，CSS）。</li> <li>重要的资源就需要优先请求，不那么重要的就放在后面请求。</li> <li>提升用户体验</li></ul> <h4 id="_2-服务器推送"><a href="#_2-服务器推送" class="header-anchor">#</a> 2.服务器推送</h4> <ul><li>HTTP/2可以将数据提前推送到浏览器。</li> <li>就是浏览器在请求HTML页面后，服务器知道该HTML引用了哪几个重要的JS，CSS资源。</li> <li>那么，在处理HTML请求时，可以将相关JS，CSS一并返回给浏览器，解析完后，就可以直接使用需要的JS和CSS文件</li> <li>对首次打开页面速度起到了至关重要的作用。</li></ul> <h4 id="_3-头部压缩"><a href="#_3-头部压缩" class="header-anchor">#</a> 3.头部压缩</h4> <ul><li>一个两个头部没有多大，但是每个页面可能有上百个资源，那么对他们进行压缩，就可以大幅度提高传输效率。</li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">2/17/2021, 1:56:47 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/pages/ComputerNet/浏览器性能优化.html" class="prev">
        浏览器性能优化
      </a></span> <span class="next"><a href="/pages/ComputerNet/HTTP请求流程.html">
        HTTP请求流程
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ab08ac82.js" defer></script><script src="/assets/js/2.fe6dca74.js" defer></script><script src="/assets/js/20.c1d3e8bd.js" defer></script>
  </body>
</html>
