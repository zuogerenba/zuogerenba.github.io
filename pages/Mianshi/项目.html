<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>网易云 | 邱模建的博客</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/avatar.png">
    <meta name="description" content="">
    
    <link rel="preload" href="/assets/css/0.styles.101e93c3.css" as="style"><link rel="preload" href="/assets/js/app.ab08ac82.js" as="script"><link rel="preload" href="/assets/js/2.fe6dca74.js" as="script"><link rel="preload" href="/assets/js/95.581789a6.js" as="script"><link rel="prefetch" href="/assets/js/10.44ca1bce.js"><link rel="prefetch" href="/assets/js/100.ff4a7272.js"><link rel="prefetch" href="/assets/js/101.4f5b1dfc.js"><link rel="prefetch" href="/assets/js/102.4b0b16e2.js"><link rel="prefetch" href="/assets/js/103.cb5f3e5c.js"><link rel="prefetch" href="/assets/js/104.b1811512.js"><link rel="prefetch" href="/assets/js/105.aa082472.js"><link rel="prefetch" href="/assets/js/106.91d2c8b0.js"><link rel="prefetch" href="/assets/js/107.3dea83b1.js"><link rel="prefetch" href="/assets/js/108.236a9cb3.js"><link rel="prefetch" href="/assets/js/109.8deba790.js"><link rel="prefetch" href="/assets/js/11.0dcd522a.js"><link rel="prefetch" href="/assets/js/110.0e0d34b4.js"><link rel="prefetch" href="/assets/js/111.0b565b05.js"><link rel="prefetch" href="/assets/js/112.cbd56ebc.js"><link rel="prefetch" href="/assets/js/113.6b220f73.js"><link rel="prefetch" href="/assets/js/114.84e8b596.js"><link rel="prefetch" href="/assets/js/115.9fc640b7.js"><link rel="prefetch" href="/assets/js/116.9a86f717.js"><link rel="prefetch" href="/assets/js/12.3ecee4d7.js"><link rel="prefetch" href="/assets/js/13.dc43ca20.js"><link rel="prefetch" href="/assets/js/14.2a807370.js"><link rel="prefetch" href="/assets/js/15.f2ae64fb.js"><link rel="prefetch" href="/assets/js/16.6cefb4c6.js"><link rel="prefetch" href="/assets/js/17.fba8bb8c.js"><link rel="prefetch" href="/assets/js/18.4d5bfc74.js"><link rel="prefetch" href="/assets/js/19.71623cf1.js"><link rel="prefetch" href="/assets/js/20.c1d3e8bd.js"><link rel="prefetch" href="/assets/js/21.89055cf4.js"><link rel="prefetch" href="/assets/js/22.4954c039.js"><link rel="prefetch" href="/assets/js/23.7c6f9745.js"><link rel="prefetch" href="/assets/js/24.4a9c9785.js"><link rel="prefetch" href="/assets/js/25.01027ef7.js"><link rel="prefetch" href="/assets/js/26.fb9ca95d.js"><link rel="prefetch" href="/assets/js/27.c0398869.js"><link rel="prefetch" href="/assets/js/28.d1b45b70.js"><link rel="prefetch" href="/assets/js/29.b42a2154.js"><link rel="prefetch" href="/assets/js/3.872ae142.js"><link rel="prefetch" href="/assets/js/30.fba61f27.js"><link rel="prefetch" href="/assets/js/31.4c8105b8.js"><link rel="prefetch" href="/assets/js/32.4390fdb1.js"><link rel="prefetch" href="/assets/js/33.fb22efe6.js"><link rel="prefetch" href="/assets/js/34.c790ec04.js"><link rel="prefetch" href="/assets/js/35.9559fbf9.js"><link rel="prefetch" href="/assets/js/36.bf93938b.js"><link rel="prefetch" href="/assets/js/37.49295366.js"><link rel="prefetch" href="/assets/js/38.90fc60b9.js"><link rel="prefetch" href="/assets/js/39.a18d83e7.js"><link rel="prefetch" href="/assets/js/4.08c03269.js"><link rel="prefetch" href="/assets/js/40.08bcd26b.js"><link rel="prefetch" href="/assets/js/41.9f70e821.js"><link rel="prefetch" href="/assets/js/42.b6f1d960.js"><link rel="prefetch" href="/assets/js/43.1bc00c36.js"><link rel="prefetch" href="/assets/js/44.89fd78b3.js"><link rel="prefetch" href="/assets/js/45.66558dce.js"><link rel="prefetch" href="/assets/js/46.6fb2cd24.js"><link rel="prefetch" href="/assets/js/47.d56d286f.js"><link rel="prefetch" href="/assets/js/48.35519a50.js"><link rel="prefetch" href="/assets/js/49.361857da.js"><link rel="prefetch" href="/assets/js/5.581fb300.js"><link rel="prefetch" href="/assets/js/50.d8fd2f28.js"><link rel="prefetch" href="/assets/js/51.92e3216f.js"><link rel="prefetch" href="/assets/js/52.fbc53d2a.js"><link rel="prefetch" href="/assets/js/53.eff022d3.js"><link rel="prefetch" href="/assets/js/54.634800e1.js"><link rel="prefetch" href="/assets/js/55.4c05b71c.js"><link rel="prefetch" href="/assets/js/56.4ab46734.js"><link rel="prefetch" href="/assets/js/57.ca27214f.js"><link rel="prefetch" href="/assets/js/58.d5242a99.js"><link rel="prefetch" href="/assets/js/59.0195abe1.js"><link rel="prefetch" href="/assets/js/6.f3fdc29d.js"><link rel="prefetch" href="/assets/js/60.f4553c6f.js"><link rel="prefetch" href="/assets/js/61.910c747c.js"><link rel="prefetch" href="/assets/js/62.11338b10.js"><link rel="prefetch" href="/assets/js/63.4db680cc.js"><link rel="prefetch" href="/assets/js/64.03470149.js"><link rel="prefetch" href="/assets/js/65.226aac33.js"><link rel="prefetch" href="/assets/js/66.ff242f26.js"><link rel="prefetch" href="/assets/js/67.4fa75535.js"><link rel="prefetch" href="/assets/js/68.8e397504.js"><link rel="prefetch" href="/assets/js/69.4e44158e.js"><link rel="prefetch" href="/assets/js/7.23c3e498.js"><link rel="prefetch" href="/assets/js/70.3c03822d.js"><link rel="prefetch" href="/assets/js/71.32e2c279.js"><link rel="prefetch" href="/assets/js/72.f5ac84af.js"><link rel="prefetch" href="/assets/js/73.64adb473.js"><link rel="prefetch" href="/assets/js/74.d7b550fe.js"><link rel="prefetch" href="/assets/js/75.be770e67.js"><link rel="prefetch" href="/assets/js/76.a7692266.js"><link rel="prefetch" href="/assets/js/77.fcafefb3.js"><link rel="prefetch" href="/assets/js/78.d1de0597.js"><link rel="prefetch" href="/assets/js/79.c4cbe623.js"><link rel="prefetch" href="/assets/js/8.561638da.js"><link rel="prefetch" href="/assets/js/80.45ff8ec4.js"><link rel="prefetch" href="/assets/js/81.a7006a2e.js"><link rel="prefetch" href="/assets/js/82.16b4b62c.js"><link rel="prefetch" href="/assets/js/83.bde15b26.js"><link rel="prefetch" href="/assets/js/84.9555f7e8.js"><link rel="prefetch" href="/assets/js/85.342c98a2.js"><link rel="prefetch" href="/assets/js/86.3dc6bedd.js"><link rel="prefetch" href="/assets/js/87.1ed60d78.js"><link rel="prefetch" href="/assets/js/88.a97aa37d.js"><link rel="prefetch" href="/assets/js/89.40d81536.js"><link rel="prefetch" href="/assets/js/9.4a2b0589.js"><link rel="prefetch" href="/assets/js/90.b0be239c.js"><link rel="prefetch" href="/assets/js/91.d1b597cd.js"><link rel="prefetch" href="/assets/js/92.0c0131a5.js"><link rel="prefetch" href="/assets/js/93.6a045b51.js"><link rel="prefetch" href="/assets/js/94.b9a23713.js"><link rel="prefetch" href="/assets/js/96.cef1bc26.js"><link rel="prefetch" href="/assets/js/97.82bec4e2.js"><link rel="prefetch" href="/assets/js/98.e88e6b38.js"><link rel="prefetch" href="/assets/js/99.1c62b889.js">
    <link rel="stylesheet" href="/assets/css/0.styles.101e93c3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/avatar.png" alt="邱模建的博客" class="logo"> <span class="site-name can-hide">邱模建的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="https://leetcode-cn.com/u/2vgrNDufDX/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zuogerenba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="分类" class="dropdown-title"><span class="title">分类</span> <span class="arrow down"></span></button> <button type="button" aria-label="分类" class="mobile-dropdown-title"><span class="title">分类</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  文章
</a></li><li class="dropdown-item"><!----> <a href="/pages/JavaScript/实现拖拽.html" class="nav-link">
  琐碎
</a></li></ul></div></div><div class="nav-item"><a href="https://leetcode-cn.com/u/2vgrNDufDX/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  LeetCode
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><a href="https://github.com/zuogerenba" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>计算机网络</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/ComputerNet/HTTP.html" class="sidebar-link">1.HTTP相关</a></li><li><a href="/pages/ComputerNet/七层模型.html" class="sidebar-link">2.七/四/五层模型</a></li><li><a href="/pages/ComputerNet/浏览器缓存.html" class="sidebar-link">浏览器缓存</a></li><li><a href="/pages/ComputerNet/HTTPS.html" class="sidebar-link">HTTPS</a></li><li><a href="/pages/ComputerNet/浏览器安全.html" class="sidebar-link">浏览器安全</a></li><li><a href="/pages/ComputerNet/浏览器性能优化.html" class="sidebar-link">浏览器性能优化</a></li><li><a href="/pages/ComputerNet/HTTP历史.html" class="sidebar-link">HTTP历史</a></li><li><a href="/pages/ComputerNet/HTTP请求流程.html" class="sidebar-link">HTTP请求流程</a></li><li><a href="/pages/ComputerNet/JavaScript如何影响DOM树构建.html" class="sidebar-link">JavaScript如何影响DOM树构建</a></li><li><a href="/pages/ComputerNet/CSS如何影响首次白屏.html" class="sidebar-link">CSS如何影响首次白屏</a></li><li><a href="/pages/ComputerNet/分层合成：为什么CSS比JS高效.html" class="sidebar-link">分层合成：为什么CSS比JS高效</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>JavaScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>React</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>VUE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>NODE</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Webpack</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>数据结构与算法</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>CSS</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>GIT教程</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>TypeScript</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>正则表达式</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>项目</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>实习遇到的问题及成长</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>腾讯工作的思考与总结</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>琐碎</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="网易云"><a href="#网易云" class="header-anchor">#</a> 网易云</h2> <h3 id="_1-项目介绍"><a href="#_1-项目介绍" class="header-anchor">#</a> 1.项目介绍</h3> <div class="language- extra-class"><pre class="language-text"><code>	使用了React编写的网易云PC Web项目，接口是来源于开源的项目，所以我觉得这是一个很好的练习项目，这样就可以把精力放在前端上，而不用烦恼数据的来源。
	本项目目前为止的话，搭好了项目的骨架。因为里面东西很多，也在陆续开发中，
	页面：推荐页面下面的轮播图展示，热门推荐，新碟上架，歌曲排行榜等等。
	
	业务功能：
		1.轮播图的滚动。
		2.点击歌曲，进行播放，并且添加到歌单里面
		3.根据歌曲的不同播放模式进行播放，随机、顺序、单曲。上一首下一首的播放与暂停。
		4.拖动进度条可以根据进度条的进度播放对应的位置
		5.点击播放模式可以更改播放模式，并且做出相应精灵图图标的变化
		6.歌词的展示
		
	学到的知识点：
		1.项目规范，项目文件夹划分的规范，变量名小驼峰，组件名大驼峰，常量大写
		2.写组件，整个项目都采用了函数式组件，并且全面HOOKS
		3.为了组件的不必要渲染，做了memo的包裹（浅层比较）;
		4.组件内部状态使用的是useState，useReducer，业务数据都放在redux管理，每个页面都有自己对应的				  reducer，然后把多个reducer进行合并共享在mian.js里面
		5.学到了styled-components书写样式，非常方便，嵌套，传参，表达式
		6.学到了axios的封装，请求相关数据
		7.学到了antd相关使用，轮播图，展示歌词的message。
		8.复用性组件的封装。
</code></pre></div><h3 id="_2-轮播图的滚动"><a href="#_2-轮播图的滚动" class="header-anchor">#</a> 2.轮播图的滚动</h3> <div class="language- extra-class"><pre class="language-text"><code>	1.轮播图用的是antd里面的走马灯
	2.设置了autoplay自动播放
	3.用beforechange监听了滚动到哪一张轮播图，并且记录，回调函数(from,to),用useState记录改变
	4.监听了下一张上一张轮播图的点击事件。用ref然后bannerRef.current.prev() 
	5.高斯模糊：url后面拼接相关参数，就可以高斯模糊
	const bgImage = topBanners[currentIndex] &amp;&amp; topBanners[currentIndex].imageUrl + &quot;?imageView&amp;blur=40x20&quot;
</code></pre></div><h3 id="_3-redux存储请求数据"><a href="#_3-redux存储请求数据" class="header-anchor">#</a> 3.redux存储请求数据</h3> <div class="language- extra-class"><pre class="language-text"><code>1.首先在src/services里面定义相关请求函数并导出；
2.在reducer里面定义相关的数组或者对象进行存储数据；
3.在常量文件定义相关常量
4.在reducer里面case相关常量，并且返回修改数据
case actionTypes.CHANGE_TOP_BANNERS:
      // return {...state,topBanners: action.topBanners} 原有的修改方式性能低
      return state.set(&quot;topBanners&quot;, action.topBanners)
5.在action文件里面定义相关的action， 和dispatch （action）的函数
6.在组件中使用useEffect/useDispatch对数据进行请求，useSelector对redux进行获取，然后使用。
</code></pre></div><h3 id="_4-播放功能"><a href="#_4-播放功能" class="header-anchor">#</a> 4.播放功能</h3> <div class="language- extra-class"><pre class="language-text"><code>0.拿到歌曲：
	1.根据id可以获取到song的相关信息，播放链接，总时长，歌词信息等
	2.点击了加入歌单或者播放song的按钮，首先就回去判断歌单里面有没有该歌曲(通过id)，有的话改变currentIndex
	3.没有找到的话，就把该歌曲加入到歌单里面，歌单长度+1，同时设置那首歌的songIndex
	4.拿到id把audio的src设置为一个链接拼接id的播放链接
1.使用的是audio标签，还用了antd的slider进度条组件，使用了message展示歌词
2.有监听了四个播放相关按钮，下一首，上一首，暂停与播放。
	1.暂停与播放就是拿到audio的ref然后调用它自带的audioRef.current.pause()/play()
	2.上一首下一首传入参数-1/+1，然后dispatch相应的改变currentSong的action
3.监听进度条
	1.请求到的歌曲有总时间duration，
	2.onTimeUpdate监听获取到当前时间currentTime，按照比例关系用于展示进度条
	3.onEnded可以监听audio播放完，根据他的播放模式去改变当前歌曲，如果是单曲循环的话，currentTime设置为0，	  重新播放。如果是其他情况，就dispatch相关改变currentSong的action
4.播放模式
	1.单曲循环：进度条玩了后就把currentTime设为0，再play
	2.列表循环：
		1.currentSongIndex+1/-1就行：
		2.大于边界：currentIndex在最后一首，把currentIndex设为0；
		3.小于边界，说明current在第一首，上一首的话把currentIndex设为列表length-1
	3.随机播放：
		1.随机生成一个0-length-1的整数，
		2.while循环判断currentIndex是否等于随机数
		3.相等继续while循环，不相等就跳出while循环，把currentIndex设为随机数
</code></pre></div><h3 id="_5-歌词展示"><a href="#_5-歌词展示" class="header-anchor">#</a> 5.歌词展示</h3> <p><img src="C:%5CUsers%5C%E9%82%B1%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1598697187980.png" alt="1598697187980"></p> <div class="language- extra-class"><pre class="language-text"><code>1.歌词是动态歌词展示的，每一个时间点展示对应的歌词，展示在antd里面的message组件里面
2.根据songId去请求数据，再使用工具类函数对歌词进行解析，得到歌词的数组，里面是对象，时间，content，再通过	dispatch action将歌词存放在reducer里面，在组件里将其取出来
3.展示当前歌词
	1.拿到所有歌词，是一个数组，数组里面是存放的是对象
	2.对象里面time属性代表歌词开始时间，content代表歌词内容
	3.用一个for循环，i从0开始，取出歌词列表的time和当前时间作对比
	4.当前时间&lt;该歌词的开始时间，那么就应该展示上一句歌词
2.使用正则将歌词某时间点对应的歌词拿到
</code></pre></div><p><img src="C:%5CUsers%5C%E9%82%B1%5CAppData%5CRoaming%5CTypora%5Ctypora-user-images%5C1598696196089.png" alt="1598696196089"></p> <h3 id="_6-项目中的优化"><a href="#_6-项目中的优化" class="header-anchor">#</a> 6.项目中的优化</h3> <div class="language- extra-class"><pre class="language-text"><code>1.精灵图
	将多张图片合并到一起，减少了http请求，减少了项目中的总体积
	
2.项目全面采用函数式组件开发
	1.使用了memo进行了组件包裹，对函数式组件做了优化，避免做一些不必要的渲染。memo内部会对新旧props作比较，		  一样的话。就不会重新渲染，不一样就像渲染；
	2.项目中使用了useCallback（将函数缓存）
		1.第一个参数是函数，第二个是依赖
		2.场景：回调函数传给子组件使用，如果不使用useCallback就算包裹了memo，父组件更新导致函数重新生成了，			引用发生了变化，那么子组件就更新，没必要；所以使用useCallback缓存
		3.使用：在播放器组件下面的控制器组件里面有一个播放按钮，绑定了播放函数，避免了控制组件的重新渲染。
	3.项目中使用useMemo
		1.返回的也是一个记忆值，依赖不改变，那么记忆值不改变。
		2.场景：
			是让某个函数在依赖改变的情况下函数运行，避免函数运行的不必要开销

3.使用了ImmutableJs对redux修改进行了优化
</code></pre></div><h2 id="二、购物商场"><a href="#二、购物商场" class="header-anchor">#</a> 二、购物商场</h2> <h3 id="_1-项目介绍-2"><a href="#_1-项目介绍-2" class="header-anchor">#</a> 1.项目介绍</h3> <div class="language- extra-class"><pre class="language-text"><code>1.这个项目是使用vue框架开发的移动端项目；因为是移动端，页面的话有首页，分类页，商品详情页，购物车，个人信息等页面
	功能：
		1.轮播图的滚动
		2.使用了better-scroll，完成上拉加载更多，返回顶部这类的功能
		3.做了一个tabbar，点击它可以切换流行，热门新款等商品的数据；然后还有吸顶效果
		4.做了图片的懒加载
		5.做了底部的导航栏，点击它可以切换到不同的路由
		6.添加购物车的功能和提交订单
		
	用到的知识点：
		1.better-scroll
		2.父子组件的通信，非父子组件的通信；props，emit，eventbus，ref
		3.vuex进行状态管理，路由相关的知识；
		4.使用了防抖去优化监听鼠标的滚动事件
		5.使用了axios请求相关数据
		6.懒加载
</code></pre></div><h3 id="_2-轮播图"><a href="#_2-轮播图" class="header-anchor">#</a> 2.轮播图</h3> <div class="language- extra-class"><pre class="language-text"><code>
</code></pre></div><h3 id="_3-better-scroll"><a href="#_3-better-scroll" class="header-anchor">#</a> 3.better-scroll</h3> <div class="language- extra-class"><pre class="language-text"><code>1.上拉加载
	1.本身自带PullingUp监听事件，触发把加载更多的函数emit发射事件出去，调用加载更多的函数，判断当前类型，就		  是把相关数据请求下来加入到对应的数组，去展示
	2.再去监听请求下来的图片是否加载完成，然后调用refresh的刷新页面

2.返回顶部
	1.在多个页面都使用，首页，详情页，之类需要下滑距离顶部很多的
	2.封装了一个复用的返回顶部组件，监听滚动事件，当滚动到一定位置时，就v-show让他展示
	3.点击它就会调用backTo函数，传入(0,0)就会返回顶部
</code></pre></div><h3 id="_4-商品类型栏-吸顶效果"><a href="#_4-商品类型栏-吸顶效果" class="header-anchor">#</a> 4.商品类型栏&amp;吸顶效果</h3> <div class="language- extra-class"><pre class="language-text"><code>1.商品栏(v-for生成都有index)，三种类型数据，传入不同的index，那个样式就变了，并且展示该index对应的数据，点	击子组件，就会emit到父组件去调用点击事件，判断传进来的index，记录当前类型就可以了

2.吸顶效果
	1.使用了两个商品类型栏(用一个的时候怎么调都掉不出来)。
	2.在nav-bar下面放一个同样的商品类型栏，默认v-show为false
	3.用bs自带的scroll滚动监听，参数有一个position，根据这个position.y去该组件是否达到顶部
	4.到达顶部的话，就让v-show为true就可以了
	4.从顶部滑下来，v-show又变为false
</code></pre></div><h3 id="_5-父子组件-非父子组件"><a href="#_5-父子组件-非父子组件" class="header-anchor">#</a> 5.父子组件/非父子组件</h3> <div class="language- extra-class"><pre class="language-text"><code>1.商品类型栏
	商品类型栏是Home组件的子组件，在子组件里面监听点击的index，emit出去点击事件，在Home组件里面展示相关数据
</code></pre></div><h3 id="_6-图片的懒加载"><a href="#_6-图片的懒加载" class="header-anchor">#</a> 6.图片的懒加载</h3> <div class="language- extra-class"><pre class="language-text"><code>1.使用了vue中的v-lazy，
2.使用了vant里面的lazyLoad，
</code></pre></div><h3 id="_7-添加购物车-vuex-提交订单"><a href="#_7-添加购物车-vuex-提交订单" class="header-anchor">#</a> 7.添加购物车（vuex）/提交订单</h3> <div class="language- extra-class"><pre class="language-text"><code>1.使用了vuex，将商品的图片，价格等需要在购物车展示的信息存起来，用dispatch出去，然后在actions里面commit到	   mutations里面
2.加入购物车前，先判断vuex里面是否已经存在该id了，存在，则把count++再commit进去，没有的话，就设置count=1，   commit进去
3.展示数据的话就从vuex里面取出来mapGetters，mapMutations，取出相应的数据进行展示
4.提交订单的话就判断是选中商品，选中才能提交，checkedLength记录选中
</code></pre></div><h3 id="_8-防抖函数去优化刷新"><a href="#_8-防抖函数去优化刷新" class="header-anchor">#</a> 8.防抖函数去优化刷新</h3> <div class="language- extra-class"><pre class="language-text"><code>1.因为要去监听图片的加载完成事件，加载完成之后调用refresh()重新计算可滚动区域高度，图片需要展示，
2.如果不用防抖优化的话，就会页面就会一直不停刷新，造成页面卡顿，用户体验差；
</code></pre></div><h3 id="_9-上拉加载更多"><a href="#_9-上拉加载更多" class="header-anchor">#</a> 9.上拉加载更多</h3> <div class="language- extra-class"><pre class="language-text"><code>1.better-scroll是有监听上拉事件的，监听pullingUp。然后在scroll组件里面发射$emit事件至Home页面里。在home页面里再去调用请求接口，将页码值+1，最终把结果加到我们的商品数组中。注意的点是，我们需要再这个方法里面调用finishPullingup，才能使得下一次加载成功。
</code></pre></div><h2 id="三、文案中心"><a href="#三、文案中心" class="header-anchor">#</a> 三、文案中心</h2> <h3 id="_1-项目介绍-3"><a href="#_1-项目介绍-3" class="header-anchor">#</a> 1.项目介绍</h3> <div class="language- extra-class"><pre class="language-text"><code>1.因为我们部门是前端国际化的，所以我们为了方便管理不同国家的文案，做了这么一个项目，这个项目主要是针对于文案管理的，可以查看翻译的文案是否通过、还是在审核中，也具有搜索功能，PM具有审批权限，查看文案列表，数据导出等功能，这个项目是5个人一起开发的。
</code></pre></div><h3 id="_2-年度报告"><a href="#_2-年度报告" class="header-anchor">#</a> 2.年度报告</h3> <div class="language- extra-class"><pre class="language-text"><code>1.我是12月1日入职的，正好碰上年末，当时要出一个类似于网易云音乐的那种年度报告，就是你在这一年里做了哪些事情，把数据进行展示，比如你今年做了多少个需求，你延期率是多少啊，主要的原因有哪些，你审批了多少文案等等，把这些数据进行展示给前端，后端，和产品。
2.里面有四个页面，分别是首页，数据页，故事页，结尾祝福页。
</code></pre></div><h3 id="_2-门户网站"><a href="#_2-门户网站" class="header-anchor">#</a> 2.门户网站</h3> <div class="language- extra-class"><pre class="language-text"><code>是一个我们部门的组件库的首页，主要内容有首屏介绍，
</code></pre></div><h3 id="_3-其他需求"><a href="#_3-其他需求" class="header-anchor">#</a> 3.其他需求</h3> <div class="language- extra-class"><pre class="language-text"><code>一开始熟悉项目的时候，先是以修改需求为主，比如说这个Table页面新增一个下载按钮，将数据导出到Excel里面。或者新建一个筛选选项，将数据筛选出来。后面开始开发相关页面，比如说，新增文案类表页面，点击文案Key跳转至相关的文案列表页面。
</code></pre></div><h3 id="_4-收获"><a href="#_4-收获" class="header-anchor">#</a> 4.收获</h3> <div class="language- extra-class"><pre class="language-text"><code>typescript和git多人开发的应用。
之前在涂鸦的时候，有自己的组件库，也不是多人开发模式，自己一个人做一个小项目。所以对git多人开发和组件封装能力提升的不够，在滴滴国际化部门没有组件库，也是多人开发模式，自己慢慢培养了封装组件的能力，数据抽离的能力，对git很多命令，React许多知识点得到了实践，并且发现了很多细节相关的问题，经过一段时间的应用，不再是停留于纸上谈兵的阶段，而是真真正正的应用到实际项目上，给别人使用。也学会了自己总结知识点，难点。

在滴滴的实习，提升的不仅仅是技术方面，沟通能力方面我导师也教会了我许多，如何去更高效的沟通。
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>很可惜，学校并不是一流大学，走到现在都是通过不断学习不断积累起来的。
平时学习基础知识不断思考总结，并记录在个人博客上。
自己做项目遇到的难点，实习期间遇到的难点，都会在博客上记录下来。
平时哪里做的不够好，犯过的错误都会进行反思，分析原因。
博客从去年5月建立至今，始终保持着更新的状态。
数据结构与算法相对良好，LeetCode至今144题。
技术栈相对齐全，React，Vue，Node均做过项目，擅长React，并阅读过部分源码。
</code></pre></div><h2 id="四、涂鸦智能"><a href="#四、涂鸦智能" class="header-anchor">#</a> 四、涂鸦智能</h2> <h3 id="_1-遇到的问题"><a href="#_1-遇到的问题" class="header-anchor">#</a> 1.遇到的问题</h3> <h4 id="_1-图片无法在不同机型上展示模糊"><a href="#_1-图片无法在不同机型上展示模糊" class="header-anchor">#</a> 1.图片无法在不同机型上展示模糊</h4> <div class="language- extra-class"><pre class="language-text"><code>由于各种机型上面的分辨力像素不一样，例如IPhone4为320px使用一倍图，375px使用二倍图，才能展示的更加清晰。如果只使用一倍图的话，那么不同机型上面展示必然会变得模糊，解决方案是UI返回二倍图三杯吐，导入的时候进行适配即可
</code></pre></div><h4 id="_2-调节亮度的sliderbar无法时事更新"><a href="#_2-调节亮度的sliderbar无法时事更新" class="header-anchor">#</a> 2.调节亮度的sliderBar无法时事更新</h4> <div class="language- extra-class"><pre class="language-text"><code>由于是云端获取的亮度数据，1-100的亮度值，但是进行滑动的时候产生了一个问题：无法时实更新控制面板上的亮度百分比数据。
	原因：将云端数据直接获取展示在组件上面，当然不会进行时实更新。
	解决：将云端的数据保存在state内部，再将使滑动组件里面使用内部state数据，再去监听滑动事件，将更新情况上传至云端即可。
</code></pre></div><h4 id="_3-很多css3属性无法使用"><a href="#_3-很多css3属性无法使用" class="header-anchor">#</a> 3.很多css3属性无法使用</h4> <div class="language- extra-class"><pre class="language-text"><code>像box-shadow无法使用，最后去网上搜索进行解决
</code></pre></div><h4 id="_4-内部组件库无法满足需求"><a href="#_4-内部组件库无法满足需求" class="header-anchor">#</a> 4.内部组件库无法满足需求</h4> <div class="language- extra-class"><pre class="language-text"><code>内部组件库里面是有Topbar这个组件的，但是我做这个项目的时候需求和组件库里面的组件不一样，一般topBar有三个板块，左边返回操作，中间这是你还title信息，右边有一些编辑，更多等的一些操作。但是我的这个智能插座的需求时有副标题的，展示一些倒计时多少分钟会开机、关机等信息。
解决：最后通过传入subTitle这个props，在里面写好对应的样式进行展示即可。
</code></pre></div><h3 id="_2-杂项"><a href="#_2-杂项" class="header-anchor">#</a> 2.杂项</h3> <h4 id="_1-开发流程-打包流程"><a href="#_1-开发流程-打包流程" class="header-anchor">#</a> 1.开发流程，打包流程</h4> <div class="language- extra-class"><pre class="language-text"><code>1.导师分配任务，创建好项目模板。
2.查看需求文档，和产品对好需求。
3.开发项目，开发完之后对不同机型进行测试，包括安卓端和iOS端。
4.按照规范提交代码，申请合并代码，并且把代码给导师review。
5.提交发布单填写产品的UIID和pid，产品信息等，填写完就导师审批后就可以点击打包按钮进行打包。
</code></pre></div><h4 id="_2-项目描述"><a href="#_2-项目描述" class="header-anchor">#</a> 2.项目描述</h4> <div class="language- extra-class"><pre class="language-text"><code>这家公司做的产品是智能家居的控制面板，像智能灯，智能床，智能空调等等，一个人负责一个产品，项目名称是UIID，使用的时React Native
</code></pre></div><h2 id="实习经历"><a href="#实习经历" class="header-anchor">#</a> 实习经历</h2> <h3 id="_1-滴滴"><a href="#_1-滴滴" class="header-anchor">#</a> 1.滴滴</h3> <h4 id="_1-使用cookie-localstorage"><a href="#_1-使用cookie-localstorage" class="header-anchor">#</a> 1.使用cookie，localStorage</h4> <div class="language- extra-class"><pre class="language-text"><code>cookie:
	当时有一个需求是如果当前用户去通过一个文案审批，但是这个用户不是修改文案的人，就不一致，那点击通过的时候就会展示不同的弹窗，一般情况是会问你是否通过，修改人审批人不一致，就是“当前文案不是你修改的，是否通过？”，那就需要把当前用户名取出来，cookies.SSO_I18N_USERNAME，和当前修改人作对比了。

localStorage：
	当时我负责年度报告的开发，其中有一个需求是这样的：在圣诞节那一天，第一次进入我们的文案中心网站，就需要弹出一个圣诞老人图片，点击即可进入年度报告页面。第二次进入就需要手动进入，不展示弹窗。
	那么就在localStorage.setItem('firstFlag', 'false');建立一个Item，记录是否是第一次进入这个年度报告页面。
</code></pre></div><h4 id="_2-手动封装复用性组件"><a href="#_2-手动封装复用性组件" class="header-anchor">#</a> 2.手动封装复用性组件</h4> <div class="language- extra-class"><pre class="language-text"><code>比如，在当时做技术门户网站的首页时，去展示我们部门应用app，按照分类大概有及时个的时候，都是一样固定的格式，于是就把它封装起来。还有我们部门同事写的文章介绍组件，里面有标题，部分内容，作者，发布日期等信息，首页上面有9篇文章介绍，将他们封装起来，最后动态传入props信息，可以进行复用。
</code></pre></div><h3 id="_3-cdn-base64"><a href="#_3-cdn-base64" class="header-anchor">#</a> 3.CDN，base64</h3> <div class="language- extra-class"><pre class="language-text"><code>在之前自己开发项目的时候，图片等资源都是使用本地导入的方式。现在图片资源都是上传静态资源服务器里面，会生成一个链接，在img标签里面引用即可。对于有些图片，例如小图标，指引，帮助，年度报告入口图标，都是使用base64去展示的。
</code></pre></div><h4 id="_4-抽离公共代码"><a href="#_4-抽离公共代码" class="header-anchor">#</a> 4.抽离公共代码</h4> <div class="language- extra-class"><pre class="language-text"><code>1.当时突然很多个页面都需要添加下载按钮，做导出数据至Excel功能。于是将下载按钮样式的代码抽离值全局，再进行使用，样式方面就只需要进行写一下类名即可，点击事件方面，抽离下载事件的代码至工具类库，获取到下载链接之后，传入相应的downUrl即可下载。
</code></pre></div><h4 id=""><a href="#" class="header-anchor">#</a></h4></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最后更新于:</span> <span class="time">3/18/2021, 2:54:22 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.ab08ac82.js" defer></script><script src="/assets/js/2.fe6dca74.js" defer></script><script src="/assets/js/95.581789a6.js" defer></script>
  </body>
</html>
